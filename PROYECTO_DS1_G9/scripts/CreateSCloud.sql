DROP TABLE FILES CASCADE CONSTRAINTS;
DROP TABLE FOLDERPYTO CASCADE CONSTRAINTS;
DROP TABLE FOLDERCIA CASCADE CONSTRAINTS;
DROP TABLE CREDENTIALS CASCADE CONSTRAINTS;

CREATE TABLE CREDENTIALS (
                             CODCRED NUMBER(6) GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
                             TYPE VARCHAR2(30) NOT NULL,
                             PROJECT_ID VARCHAR2(30) NOT NULL,
                             PRIVATE_KEY_ID VARCHAR2(50) NOT NULL,
                             PRIVATE_KEY VARCHAR2(1800) NOT NULL,
                             CLIENT_EMAIL VARCHAR2(70) NOT NULL,
                             CLIENT_ID VARCHAR2(30) NOT NULL,
                             FROOT VARCHAR2(50) NOT NULL,
                             NAMECREDS VARCHAR2(50) NOT NULL,
                             UNIVERSE_DOMAIN VARCHAR2(30) NOT NULL
);

CREATE TABLE FOLDERCIA
(
    CODFCIA     NUMBER(6) GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    CODCRED     NUMBER(6) NOT NULL,
    IDFCIA     VARCHAR2(60) NOT NULL,
    CODCIAOW NUMBER(6) NOT NULL,
    CONSTRAINT fk_foldercia FOREIGN KEY (CODCIAOW) REFERENCES CIA(CODCIA),
    CONSTRAINT fk_credentials FOREIGN KEY (CODCRED) REFERENCES CREDENTIALS(CODCRED)
);



CREATE TABLE FOLDERPYTO(
                           CODFPYTO NUMBER(6) GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
                           IDFPYTO VARCHAR2(60) NOT NULL,
                           CODPYTOOW NUMBER(6) NOT NULL,
                           CODCIAOW NUMBER(6) NOT NULL,
                           CODFCIAPAR NUMBER(6) NOT NULL,
                           CONSTRAINT fk_pytoown FOREIGN KEY (CODPYTOOW, CODCIAOW) REFERENCES PROYECTO(CODPYTO, CODCIA),
                           CONSTRAINT fk_fciapar FOREIGN KEY (CODFCIAPAR) REFERENCES FOLDERCIA(CODFCIA)
);

CREATE TABLE FILES (
                       CODFILE NUMBER(6) GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
                       FILENAME VARCHAR2(100) NOT NULL,
                       CODFPYTO NUMBER(6) NOT NULL,
                       URL_ID VARCHAR2(60) NOT NULL,
                       TYPE VARCHAR2(25) NOT NULL,
                       CREATED_AT TIMESTAMP(6) DEFAULT CURRENT_TIMESTAMP,
                       DESCRIPTION VARCHAR2(100) NOT NULL,
                       CONSTRAINT filesconst_fk_folderpyto FOREIGN KEY (CODFPYTO) REFERENCES FOLDERPYTO(CODFPYTO)
);

